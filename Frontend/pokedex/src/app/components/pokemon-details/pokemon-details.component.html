<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    .bg {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-image: url("/assets/pallet_town.png");
        background-size: cover;


    }
</style>


<div class="bg">


    <mat-card class="pokemon-details-component-card mat-elevation-z4">

        <ng-container *ngIf="detailsLoading">
            <img src="assets/pokeball_gif.gif" class="_detailsLoadingPokeball">
        </ng-container>

        <ng-container *ngIf="!detailsLoading">

            <div fxLayout="row wrap" fxLayoutGap="10px grid">
                <!--THE ONE BIGGEST ROW FOR THE WHOLE CONTAINER-->

                <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="33%">
                    <!--LEFT 33% column (name, pic, types, abilities)-->

                    <div fxLayout="row wrap" style="margin: 0px 0px 10px 0px">
                        <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                            <mat-card class="mat-elevation-z6" class="picture-card">
                                <div fxLayout="row wrap">
                                    <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">

                                        <div fxLayout="row wrap">
                                            <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                                                <div class="pokemon-name">{{pokemon?.name}}</div>
                                            </div>
                                        </div>

                                        <div fxLayout="row wrap">
                                            <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%"
                                                style="display: flex; justify-content: center">
                                                <img class="pokemon-picture" mat-card-image
                                                    [src]="pokemon?.sprites.other.officalArtwork.frontDefault">
                                            </div>
                                        </div>

                                        <div fxLayout="row wrap"
                                            style="flex-flow: row wrap; box-sizing: border-box; display: flex; flex-wrap: nowrap; justify-content: space-around">
                                            <ng-container *ngFor="let t of pokemon?.types">
                                                <div fxFlex="40%" fxFlex.xs="50%" fxFlex.sm="50%" class="type">

                                                    <div [class]="typeToCssClass[t.type.typeId]" style="border-radius: 9px;">
                                                        {{t.type.name}}
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>

                                </div>
                            </mat-card>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">
                            <mat-card class="mat-elevation-z6" class="abilities-card">
                                <div fxLayout="row wrap">
                                    <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%"
                                        style="display: flex; justify-content: center">
                                        <div class="abilites-title"> Abilities:</div>
                                    </div>
                                </div>
                                <div fxLayout="row wrap"
                                    style="flex-flow: row wrap; box-sizing: border-box; display: flex; flex-wrap: nowrap; justify-content: space-around">

                                    <ng-container *ngFor="let a of pokemon?.abilities">
                                        <div fxFlex="40%" fxFlex.xs="50%" fxFlex.sm="50%" class="ability">
                                            {{a.ability.name}}
                                        </div>
                                    </ng-container>

                                </div>
                            </mat-card>
                        </div>
                    </div>
                </div>




                <div fxFlex="67%" fxFlex.xs="100%" fxFlex.sm="67%">
                    <!--RIGHT 67% column (Stats, moves)-->

                    <div fxLayout="row wrap" fxLayoutGap="10px grid">
                        <div fxFlex="60%" fxFlex.xs="100%" fxFlex.sm="60%">
                            <mat-card class="mat-elevation-z6">
                                <ng-container *ngFor="let s of pokemon?.stats">
                                    <div style="text-transform:capitalize">
                                        {{s.stat.name}}: {{s.statValue}}
                                    </div>
                                    <mat-progress-bar [value]=s.statValue*statProgressBar>
                                        {{s.statValue}}
                                    </mat-progress-bar>
                                </ng-container>
                            </mat-card>
                        </div>

                        <div fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%">

                            <mat-card class="mat-elevation-z6" class="moves-card">
                                <h3> Moves:
                                    <ng-container *ngFor="let m of pokemon?.moves">
                                        {{m.move.name}}
                                    </ng-container>
                                </h3>
                            </mat-card>

                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </mat-card>
</div>


<!--

            <div (click)="onClickBackToList()">
                <button type="button" class="btn btn-success">
                    <div class="font-weight-bold mb-0">BACK TO LIST</div>
                </button>
            </div>


            <div class="col-6">
                <h3> Order: {{pokemon?.order}} </h3>-->